{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile information.",
      "type": "object",
      "properties": {
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "photoURL": {
          "type": "string",
          "format": "uri",
          "description": "URL of the user's profile picture."
        }
      },
      "required": ["displayName", "email"]
    },
    "UserFavorites": {
        "title": "User Favorites",
        "description": "Represents a user's favorite leagues, teams, and players.",
        "type": "object",
        "properties": {
            "leagues": {
                "type": "object",
                "description": "A map of favorite league IDs to league data.",
                "additionalProperties": { "$ref": "#/entities/LeagueFavorite" }
            },
            "teams": {
                "type": "object",
                "description": "A map of favorite team IDs to team data.",
                "additionalProperties": { "$ref": "#/entities/TeamFavorite" }
            },
            "players": {
                "type": "object",
                "description": "A map of favorite player IDs to player data.",
                "additionalProperties": { "$ref": "#/entities/PlayerFavorite" }
            }
        }
    },
    "AdminFavorite": {
      "title": "Admin Favorite",
      "description": "Represents a team and a note favorited by an admin.",
      "type": "object",
      "properties": {
        "teamId": { "type": "number"},
        "name": { "type": "string" },
        "logo": { "type": "string", "format": "uri" },
        "note": { "type": "string" }
      },
      "required": ["teamId", "name", "logo", "note"]
    },
    "LeagueFavorite": {
      "title": "League Favorite",
      "type": "object",
      "properties": {
        "leagueId": { "type": "number" },
        "name": { "type": "string" },
        "logo": { "type": "string", "format": "uri" }
      },
      "required": ["leagueId", "name", "logo"]
    },
    "TeamFavorite": {
      "title": "Team Favorite",
      "type": "object",
      "properties": {
        "teamId": { "type": "number" },
        "name": { "type": "string" },
        "logo": { "type": "string", "format": "uri" }
      },
      "required": ["teamId", "name", "logo"]
    },
     "PlayerFavorite": {
      "title": "Player Favorite",
      "type": "object",
      "properties": {
        "playerId": { "type": "number" },
        "name": { "type": "string" },
        "photo": { "type": "string", "format": "uri" }
      },
      "required": ["playerId", "name", "photo"]
    },
    "LeagueCustomization": {
        "title": "League Customization",
        "description": "Stores user-defined names for leagues.",
        "type": "object",
        "properties": {
            "customName": {
                "type": "string",
                "description": "The custom name for the league."
            }
        },
        "required": ["customName"]
    },
    "CountryCustomization": {
        "title": "Country Customization",
        "description": "Stores user-defined names for countries.",
        "type": "object",
        "properties": {
            "customName": {
                "type": "string",
                "description": "The custom name for the country."
            }
        },
        "required": ["customName"]
    },
    "ContinentCustomization": {
        "title": "Continent Customization",
        "description": "Stores user-defined names for continents.",
        "type": "object",
        "properties": {
            "customName": {
                "type": "string",
                "description": "The custom name for the continent."
            }
        },
        "required": ["customName"]
    },
    "TeamCustomization": {
      "title": "Team Customization",
      "description": "Stores user-defined names for teams.",
      "type": "object",
      "properties": { "customName": { "type": "string" } },
      "required": ["customName"]
    },
    "PlayerCustomization": {
      "title": "Player Customization",
      "description": "Stores user-defined names for players.",
      "type": "object",
      "properties": { "customName": { "type": "string" } },
      "required": ["customName"]
    },
    "CoachCustomization": {
      "title": "Coach Customization",
      "description": "Stores user-defined names for coaches.",
      "type": "object",
      "properties": { "customName": { "type": "string" } },
      "required": ["customName"]
    },
    "MatchDetails": {
      "title": "Match Details",
      "description": "Stores metadata about a match, like whether comments are enabled.",
      "type": "object",
      "properties": {
        "commentsEnabled": {
          "type": "boolean",
          "description": "Whether comments are enabled for this match."
        }
      },
      "required": ["commentsEnabled"]
    },
    "MatchComment": {
      "title": "Match Comment",
      "description": "A single comment on a match, which can be a top-level comment or a reply.",
      "type": "object",
      "properties": {
        "userId": { "type": "string", "description": "The ID of the user who posted the comment." },
        "userName": { "type": "string", "description": "The display name of the user." },
        "userPhoto": { "type": "string", "format": "uri", "description": "The profile picture URL of the user." },
        "text": { "type": "string", "description": "The content of the comment." },
        "timestamp": { "type": "string", "format": "date-time", "description": "The timestamp when the comment was created." },
        "parentId": { "type": ["string", "null"], "description": "The ID of the parent comment if this is a reply." },
        "replies": { 
            "type": "array", 
            "description": "A list of replies to this comment.",
            "items": {
                "$ref": "#/entities/MatchComment"
            }
        }
      },
      "required": ["userId", "userName", "text", "timestamp"]
    }
  },
  "auth": {
    "providers": ["google.com"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/UserProfile" },
      "description": "Stores public profile information for each user."
    },
    "/favorites/{userId}": {
      "schema": { "$ref": "#/entities/UserFavorites" },
      "description": "A single document containing all favorites for a user."
    },
    "/adminFavorites/{teamId}": {
      "schema": { "$ref": "#/entities/AdminFavorite" },
      "description": "Stores admin-favorited teams and their notes, keyed by team ID."
    },
    "/leagueCustomizations/{leagueId}": {
        "schema": { "$ref": "#/entities/LeagueCustomization" },
        "description": "Stores custom names for leagues, keyed by league ID."
    },
    "/countryCustomizations/{countryName}": {
        "schema": { "$ref": "#/entities/CountryCustomization" },
        "description": "Stores custom names for countries, keyed by the English country name."
    },
    "/continentCustomizations/{continentName}": {
        "schema": { "$ref": "#/entities/ContinentCustomization" },
        "description": "Stores custom names for continents, keyed by the English continent name."
    },
    "/teamCustomizations/{teamId}": {
      "schema": { "$ref": "#/entities/TeamCustomization" },
      "description": "Stores custom names for teams, keyed by team ID."
    },
    "/playerCustomizations/{playerId}": {
      "schema": { "$ref": "#/entities/PlayerCustomization" },
      "description": "Stores custom names for players, keyed by player ID."
    },
    "/coachCustomizations/{coachId}": {
      "schema": { "$ref": "#/entities/CoachCustomization" },
      "description": "Stores custom names for coaches, keyed by coach ID."
    },
    "/matches/{matchId}": {
      "schema": { "$ref": "#/entities/MatchDetails" },
      "description": "Stores metadata for a specific match, identified by its unique ID."
    },
    "/matches/{matchId}/comments/{commentId}": {
      "schema": { "$ref": "#/entities/MatchComment" },
      "description": "Stores all comments and their replies for a specific match. Replies are nested within parent comment documents."
    }
  }
}
    